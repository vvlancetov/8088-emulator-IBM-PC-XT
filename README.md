Проект эмулятора компьютера IBM PC/XT.

Некоторые заметки по текущей версии.

Для запуска необходимы дополнительные файлы:

 - образ БИОС IMB PC (лежит в Additional files)
 - образ ROM для HDD IBM (лежит в Additional files), опционально
 - образ дискет(ы) (лежит в Additional files), опционально
 - образ HDD (лежит в Additional files), опционально

Основные настройки делаются в файле config.ini.
 
По сути, обязательно только наличие БИОСа. При этом произойдет загрузка ПК и выход во встроенный интерпретатор БЕЙСИКа.
Образы дискеты и HDD - пустые. На всякий случай убрал DOS и прочее.

Для дискеты подойдет любой образ типа img иди ima. Их полно в сети. Там должны быть просто сектора, без дополнительной служебной информации.
С HDD то же самое - там просто массив секторов.

Файла с ROM для видеокарт MDA и CGA нет, так как у CGA был только знакогенератор, который здесь представлен PNG файлом с символами (40 и 80 колонок).

Появился ROM для EGA-карт. Он уже обязателен, но только если нужно EGA.

Для работы необходимы также файлы библиотеки SFML (использую 3 версию). Всего 5 файлов вида sfml-graphics-3.dll. 
Если компилируете компилируете вариант DEBUG, то файлы должны иметь букву "d" в названии (к примеру, sfml-system-d-3.dll).

Есть поддержка джойстика. Должен быть активен во время запуска, иначе эмулятор его не распознает. Строчку об обнаружении джойстика можно увидеть в консоли при старте эмулятора.
Управление движением - на D-паде. Для калибровки можно использовать бамперы R1 и L1.

Во время работы можно использовать следующие сочетания клавишь:

 - Ctrl + F10 - вывод каждой команды в консоль
 - Ctrl + F9  - пошаговый режим выполнения
 - Ctrl + F8  - следующая команда (в пошаговом режиме)
 - Ctrl + F5  - работать пока CX!=0 (для пропуска циклов)

Отладочные экраны теперь убираются (по умолчанию не видны):

 - Ctrl + 1 - регистры и периферия
 - Ctrl + 2 - логи FDD
 - Ctrl + 3 - логи HDD
 - Ctrl + 4 - аудио
 - Ctrl + 5 - монитор памяти (управление стрелками, в том числе ввод адреса)
 - Ctrl + 6 - регистры EGA

 Можно изменить размер окон:
  - Ctrl + Num+ - увеличить размер
  - Ctrl + Num- - уменьшить размер

  Можно изменить скорость работы:
  - Ctrl + "-" - уменьшить скорость
  - Ctrl + "+" - увеличить скорость


Список изменений:

05-02-2026
- ввод с клавиатуры теперь работает только если главное окно активно (получило фокус). Предотвращает ввод символов, если пользователь печатает что-то в другом приложении (например, в браузере).
- сделан небольшой мод ROM-файла HDD. Теперь при невозможности загрузки с диска A:, будет производиться загрузка с C:. В оригинальном ROM сразу был прыжок на BASIC.

08-02-2026
- добавил экран мониторинга памяти (Ctrl + 5, адрес меняется стрелками)
- добавил поддержку видеокарт MDA.
- отладочные экраны появляются/убираются нажатием Ctrl + 1...5

20-02-2026
 - подпрограммы отрисовки экрана, опроса клавиатуры, отрисовки отладочных окон вынесены в отдельные потоки
 - точность таймера приведена в норму

 21-02-2026
  - добавил возможность менять масштаб окон, а также подстройку масштаба под разрешение монитора при запуске

  26-02-2026
  - добавил возможность изменить скорость (через делитель)
  - экран и отладочные экраны вынесены в отдельные потоки
  - звук стал чуть получше
  - исправлен баг с чередованием префиксов (заработали некоторые программы)

  28-02-2026
  - добавил плату часов реального времени. Работает только на чтение, но этого достаточно, чтобы установить текущую дату и время при старте ПК. 
	Используется дополнительный ROM проекта GlaTick/GlaBIOS. Настройку загрузки ROM нужно сделать в config.ini. Виртуальное устройство висит на стандартных портах 70 и 71.